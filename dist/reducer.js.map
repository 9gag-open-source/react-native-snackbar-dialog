{"version":3,"sources":["../src/reducer.js"],"names":["transformProps","snackBarReducer","INITIAL_STATE","items","current","item","title","transformedItem","children","show","state","payload","add","length","concat","dismiss","action","type"],"mappings":";;;;;;;;;;;;;;;;;;;AAmBgBA,c,CAAAA,c;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DQC,e,CA5ExB,qC,whBAYO,GAAMC,qCAAgB,CAC3BC,MAAO,EADoB,CAE3BC,QAAS,IAFkB,CAAtB,CAKA,QAASJ,eAAT,CAAyBK,IAAzB,CAA8C,IAC3CC,MAD2C,CACjCD,IADiC,CAC3CC,KAD2C,CAEnD,GAAMC,iBAAkB,SAAc,EAAd,CAAkBF,IAAlB,CAAxB,CAEA,GAAIC,KAAJ,CAAW,CACTC,gBAAgBC,QAAhB,CAA2BF,KAA3B,CACA,MAAOC,iBAAgBD,KAAvB,CACD,CAED,MAAOC,gBAAP,CACD,CAED,QAASE,KAAT,CAAeC,KAAf,CAAsBC,OAAtB,CAA8C,CAC5C,mBACKD,KADL,EAEEN,QAASJ,eAAeW,OAAf,CAFX,GAID,CAED,QAASC,IAAT,CAAcF,KAAd,CAAqBC,OAArB,CAA6C,CAC3C,GAAMN,MAAOL,eAAeW,OAAf,CAAb,CAEA,GAAI,CAACD,MAAMN,OAAP,EAAkBM,MAAMP,KAAN,CAAYU,MAAlC,CAA0C,2BACZH,MAAMP,KADM,EACjCC,OADiC,iBACrBD,KADqB,uBAGxC,mBACKO,KADL,EAEEP,MAAOA,MAAMW,MAAN,CAAa,CAACT,IAAD,CAAb,CAFT,CAGED,eAHF,GAKD,CAED,GAAI,CAACM,MAAMN,OAAX,CAAoB,CAClB,MAAOK,MAAKC,KAAL,CAAYC,OAAZ,CAAP,CACD,CAED,mBACKD,KADL,EAEEP,MAAOO,MAAMP,KAAN,CAAYW,MAAZ,CAAmB,CAACT,IAAD,CAAnB,CAFT,GAID,CAED,QAASU,QAAT,CAAkBL,KAAlB,CAAyB,CACvB,GAAI,CAACA,MAAMP,KAAN,CAAYU,MAAjB,CAAyB,CACvB,mBACKH,KADL,EAEEN,QAAS,IAFX,GAID,CANsB,2BAQKM,MAAMP,KARX,EAQhBC,OARgB,kBAQJD,KARI,wBAUvB,mBACKO,KADL,EAEEP,WAFF,CAGEC,eAHF,GAKD,CAEc,QAASH,gBAAT,EAAgF,IAAtDS,MAAsD,2DAAnCR,aAAmC,IAApBc,OAAoB;AAC7F,OAAQA,OAAOC,IAAf;AACE,mBAAW,MAAOR,MAAKC,KAAL,CAAYM,OAAOL,OAAnB,CAAP;AACX,kBAAU,MAAOC,KAAIF,KAAJ,CAAWM,OAAOL,OAAlB,CAAP;AACV,sBAAc,MAAOI,SAAQL,KAAR,CAAP;AACd,QAAS,MAAOA,MAAP,CAJX;;AAMD","file":"reducer.js","sourcesContent":["// @flow\n\nimport {\n  ADD,\n  SHOW,\n  DISMISS\n} from './actions.js'\n\nimport type {\n  SnackItemType,\n  StateType,\n  ActionType\n} from './type'\n\nexport const INITIAL_STATE = {\n  items: [],\n  current: null\n}\n\nexport function transformProps (item: SnackItemType) {\n  const { title } = item\n  const transformedItem = Object.assign({}, item)\n\n  if (title) {\n    transformedItem.children = title\n    delete transformedItem.title\n  }\n\n  return transformedItem\n}\n\nfunction show (state, payload: SnackItemType) {\n  return {\n    ...state,\n    current: transformProps(payload)\n  }\n}\n\nfunction add (state, payload: SnackItemType) {\n  const item = transformProps(payload)\n\n  if (!state.current && state.items.length) {\n    const [current, ...items] = state.items\n\n    return {\n      ...state,\n      items: items.concat([item]),\n      current\n    }\n  }\n\n  if (!state.current) {\n    return show(state, payload)\n  }\n\n  return {\n    ...state,\n    items: state.items.concat([item])\n  }\n}\n\nfunction dismiss (state) {\n  if (!state.items.length) {\n    return {\n      ...state,\n      current: null\n    }\n  }\n\n  const [current, ...items] = state.items\n\n  return {\n    ...state,\n    items,\n    current\n  }\n}\n\nexport default function snackBarReducer (state: StateType = INITIAL_STATE, action: ActionType) {\n  switch (action.type) {\n    case SHOW: return show(state, action.payload)\n    case ADD: return add(state, action.payload)\n    case DISMISS: return dismiss(state)\n    default: return state\n  }\n}\n"]}